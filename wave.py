import socket
import time
import math

channels = 8
values = ["995","960","930","905","875","850","820","795","770","715","715","660","635","605","580","550","525","495","465","405","375","350","320","295","270","175","90","65","-30","-55","-170","-200","-290","-290","-365","-365","-450","-480","-580","-605","-660","-690","-715","-790","-820","-930","-955","-1080","-1140","-1340","-1390","-1610","-1670","-1770","-1810","-1870","-1920","-1970","-2020","-2140","-2200","-2410","-2410","-2610","-2670","-2830","-2890","-3050","-3110","-3330","-3390","-3680","-3730","-4040","-4140","-4720","-4720","-5160","-5280","-5620","-5700","-6100","-6100","-9400","-12000","-32768"]

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect(('10.1.0.15',49280))

x = 0

def send_cmd(s, cmd):
    print(cmd)
    s.send(cmd.encode() + b'\n')
    time.sleep(0.01)
    print(s.recv(2048))

while True:
    for i in range(channels):
        value_0_to_1 = (math.sin(x + 0.5 * i) + 1) / 2
        fader = values[round(value_0_to_1 * (len(values) - 1))]

        cmd = (f'set MIXER:Current/InCh/Fader/Level {i} 0 {fader}')
        send_cmd(s, cmd)

    x += 0.1
    #time.sleep(0.05)

